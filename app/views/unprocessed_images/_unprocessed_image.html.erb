<div class="card bg-dark"
     data-controller="unprocessed-image"
     data-unprocessed-image-processing="<%= !unprocessed_image.processed? %>"
     data-unprocessed-image-url="<%= unprocessed_image_path(unprocessed_image.id) %>">
  <%= image_tag unprocessed_image.image.variant({ thumbnail: "530x" }), class: "card-img" %>
  <div class="card-img-overlay d-flex justify-content-center align-items-end">
    <div class="w-100 d-flex flex-column">
      <% if unprocessed_image.processed? %>
        <%= link_to "Save to journey", edit_unprocessed_image_path(unprocessed_image),
          class: "btn btn-primary btn-block",
          data: { remote: true, action: "ajax:success->unprocessed-image#edit" } %>
      <% else %>
        <div class="progress">
          <div class="progress-bar progress-bar-striped progress-bar-animated"
               role="progressbar"
               style="width: 25%"
               aria-valuenow="10"
               aria-valuemin="0"
               aria-valuemax="100"
               data-target="unprocessed-image.progress">
          </div>
        </div>
      <% end %>
    </div>
    <%
      # <div class="embed-responsive embed-responsive-16by9">
      #   <div class="embed-responsive-item" data-target="unprocessed-image.map">
      #   </div>
      # </div>
      %>
  </div>
</div>
